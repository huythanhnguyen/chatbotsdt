/**
 * Mobile Styles - Phone Analysis App
 * CSS tối ưu hóa cho thiết bị di động
 */

/* Máy tính bảng và điện thoại lớn */
@media (max-width: 992px) {
    /* Thay đổi layout chính thành dạng cột */
    .main-content {
        flex-direction: column;
        position: relative;
    }
    
    /* Hiển thị các phần tử chỉ dành cho thiết bị di động */
    .mobile-only {
        display: flex;
    }
    
    /* Tối ưu hóa header */
    header {
        margin-bottom: 5px;
        padding: 8px 0;
    }
    
    /* Tối ưu hóa phần thông tin người dùng */
    .user-header {
        margin: 5px 0;
        padding-bottom: 5px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    /* Phần chat chiếm 70% màn hình */
    .chat-panel {
        height: 70vh;
        z-index: 1;
        display: flex;
        flex-direction: column;
        margin-bottom: 5px;
    }
    
    /* Tối ưu hóa vùng hiển thị tin nhắn */
    .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 10px;
    }
    
    /* Cố định phần nhập tin nhắn ở dưới */
    .chat-input {
        position: sticky;
        bottom: 0;
        background-color: #fff;
        padding: 8px;
        border-top: 1px solid var(--border-color);
        box-shadow: 0 -2px 6px rgba(0,0,0,0.05);
        z-index: 10;
    }
    
    /* Tối ưu hóa hiển thị tin nhắn */
    .message {
        max-width: 70%;
        font-size: 15px;
    }
    
    /* Làm nổi bật tin nhắn người dùng */
    .user-message {
        background-color: var(--primary-light);
        border-right: 3px solid var(--primary-color);
    }
    
    /* Làm nổi bật tin nhắn bot */
    .bot-message {
        background-color: #f5f5f5;
        border-left: 3px solid var(--secondary-color);
    }
    
    /* Tối ưu hóa panel thông tin bên cạnh */
    .info-panel {
        position: fixed;
        top: 0;
        right: 0;
        height: 100%;
        width: 280px;
        max-width: 80%;
        transform: translateX(100%);
        opacity: 0;
        overflow-y: auto;
        z-index: 1000;
        border-radius: 0;
        border-left: 1px solid var(--border-color);
    }
    
    /* Animation khi hiển thị info panel */
    .info-panel.visible {
        transform: translateX(0);
        opacity: 1;
    }
    
    /* Chỉnh hộp đăng nhập */
    .auth-box {
        width: 90%;
    }
}

/* Điện thoại di động cỡ vừa và nhỏ */
@media (max-width: 576px) {
    /* Giảm khoảng cách trên màn hình nhỏ */
    :root {
        --space-md: 10px;
        --space-lg: 14px;
        --space-xl: 20px;
    }
    
    /* Giảm padding của container */
    .container {
        padding: 6px;
    }
    
    /* Tối ưu header */
    header {
        padding: 5px 0;
        margin-bottom: 5px;
    }
    
    header h2 {
        font-size: 1.3rem;
    }
    
    header p {
        font-size: 0.85rem;
    }
    
    /* Giữ nguyên tỷ lệ 70% cho chat panel */
    .chat-panel {
        height: 70vh;
        max-height: calc(100vh - 70px);
    }
    
    /* Tối ưu hóa vùng tin nhắn */
    .chat-messages {
        padding: 8px;
        min-height: 50vh;
    }
    
    /* Tối ưu hóa vùng nhập tin nhắn */
    .chat-input {
        padding: 5px 8px;
    }
    
    .chat-input input {
        height: 38px;
        padding: 6px 36px 6px 10px;
        font-size: 14px;
    }
    
    .chat-input button {
        width: 30px;
        height: 30px;
        right: 12px;
    }
    
    /* Tối ưu hóa tin nhắn */
    .message {
        max-width: 70%;
        padding: 8px 10px;
        margin-bottom: 8px;
    }
    
    .message-content {
        font-size: 14px;
        line-height: 1.3;
    }
    
    /* Chỉnh panel thông tin */
    .info-panel {
        width: 85%;
    }
    
    .info-panel-header {
        padding: 8px 10px;
    }
    
    .info-tab-content {
        padding: 8px;
    }
    
    /* Tối ưu hóa form đăng nhập */
    .auth-box {
        width: 100%;
        max-width: 100%;
        border-radius: 0;
    }
    
    .form-group input {
        padding: 8px 10px;
    }
    
    /* Thu nhỏ nút đăng xuất */
    #logout-btn {
        padding: 3px 8px;
        font-size: 13px;
    }
    
    /* Điều chỉnh header người dùng */
    .user-header {
        flex-direction: row;
        align-items: center;
        gap: 8px;
    }
    
    /* Tối ưu hóa chips gợi ý */
    .suggestion-chips {
        flex-wrap: wrap;
        gap: 5px;
        margin-top: 8px;
    }
    
    .category-btn {
        padding: 3px 8px;
        font-size: 12px;
    }
    
    /* Chỉnh nút feedback */
    .feedback-buttons {
        display: flex;
        flex-direction: row;
        gap: 8px;
        margin-top: 6px;
    }
    
    .feedback-btn {
        padding: 3px 6px;
        font-size: 12px;
    }
}

/* Điện thoại rất nhỏ */
@media (max-width: 380px) {
    /* Tối ưu hóa header đăng nhập */
    .auth-header {
        padding: 8px;
    }
    
    .auth-form {
        padding: 10px;
    }
    
    .auth-tab {
        padding: 5px 8px;
        font-size: 12px;
    }
    
    /* Tối ưu hóa tin nhắn */
    .message {
        max-width: 75%;
        padding: 7px 9px;
    }
    
    /* Thu nhỏ nút gửi */
    .chat-input button {
        width: 28px;
        height: 28px;
    }
    
    /* Thu nhỏ tab thông tin */
    .info-tab-button {
        padding: 5px 7px;
        font-size: 12px;
    }
    
    /* Thu nhỏ nút công cụ */
    .chat-tools button {
        width: 28px;
        height: 28px;
    }
}

/* Điều chỉnh cho màn hình ngang */
@media (max-height: 500px) and (orientation: landscape) {
    .chat-panel {
        height: 65vh; /* Vẫn giữ tỷ lệ gần 70% */
    }
    
    .auth-container {
        min-height: auto;
        padding: 8px 0;
    }
    
    header {
        padding: 4px 0;
        margin-bottom: 4px;
    }
    
    .info-tab-content {
        max-height: 65vh;
    }
    
    /* Tối ưu hóa cho màn hình ngang*/
    .chat-messages {
        padding: 5px;
    }
    
    .chat-input {
        padding: 4px;
    }
    
    .chat-input input {
        height: 34px;
    }
}

/* Điều chỉnh cho màn hình thấp */
@media (max-height: 600px) {
    .chat-panel {
        height: calc(100vh - 130px);
        min-height: 65vh;
    }
    
    header {
        padding: 4px 0;
        margin-bottom: 4px;
    }
    
    .user-header {
        margin-top: 4px;
        margin-bottom: 4px;
        padding-bottom: 4px;
    }
}
